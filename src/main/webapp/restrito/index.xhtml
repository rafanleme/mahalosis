<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<style type="text/css">
		body{
			background-image: linear-gradient(45deg, gray, black);
		}
		.pGrid{
			background-color: white;
			margin:auto;
			width: 400px;
			height:auto;
			border-radius: 10px;
			border:2px solid rgb(134, 184, 27);
			padding: 5px;
			-webkit-box-shadow: 9px 7px 5px rgba(50, 50, 50, 0.77);
			-moz-box-shadow:    9px 7px 5px rgba(50, 50, 50, 0.77);
			box-shadow:         9px 7px 5px rgba(50, 50, 50, 0.77);
		}
		.logoLogin{
			width: 400px;
			margin: auto;
			border-radius: 10px;
			text-align: center;
		}
		.ui-panelgrid{
			margin:auto !important;
			border: none !important; 
		}
		.ui-panelgrid-cell{
			border: none !important;
			text-align: center;
		}
		.ui-widget-content{
			border: none !important;
		}
		.ui-growl {
		    position: absolute;
		    top: 20px;
		    left: 40%;
		}
		
		.loadingDialog{
			text-align: center;	
		}
	</style>
</h:head>
<f:event listener="#{usuarioMBean.isLoged()}" type="preRenderView"/>
<h:body>
	<p:growl autoUpdate="true" showDetail="true">
	</p:growl>
	<h:form>
		<p:ajaxStatus onstart="PF('statusDialog').show()"
			onsuccess="PF('statusDialog').hide()" />
		<div class="pGrid">
			<img src="../imgs/logo_fundo.jpg" class="logoLogin"/>
			
			<p:panelGrid columns="1" >	
				Informe seus dados
				<p:inputText id="cpf" placeholder="CPF" value="#{usuarioMBean.usuario.cpf}" styleClass="form-control"></p:inputText>
				<p:password placeholder="Senha" value="#{usuarioMBean.usuario.senha}"></p:password>
				<p:commandButton action="#{usuarioMBean.autenticar()}" value="Entrar" />
			</p:panelGrid>
		</div>
	</h:form>
	<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
		closable="false" resizable="false" showHeader="true" styleClass="loadingDialog">
		<div>
			<h4>Um momento por favor...</h4>
			<img src="/mahalosis/imgs/loading.gif" width="80px" alt="" />
		</div>
	</p:dialog>
	<script language="JavaScript">  
		$(document).ready(function() {
			$(".pGrid").fadeTo(0,0.2);
			$(".pGrid").fadeTo(800,1.0);
			$("#cpf").focus();
		});
	</script>
</h:body>
</html>